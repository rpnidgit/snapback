#!/usr/bin/env bash
# Stolen from btrfs-assistant
#
# Pass essential env. settings as args to an app wrapper
# to circumvent pkexec restrictions.

if [[ -z ${SWAYSOCK} && -z ${HYPRLAND_CMD} ]]; then
  if [[ -z ${QT_QPA_PLATFORMTHEME} ]]; then
    pkexec snapper-gui-wrapper --xdg-desktop=$XDG_CURRENT_DESKTOP
  else
    pkexec snapper-gui-wrapper --xdg-desktop=$XDG_CURRENT_DESKTOP --platformtheme="${QT_QPA_PLATFORMTHEME}"
  fi
else
  pkexec snapper-gui-wrapper --xdg-runtime="${XDG_RUNTIME_DIR}" --platformtheme="${QT_QPA_PLATFORMTHEME}" --platform="${QT_QPA_PLATFORM}" --display="${WAYLAND_DISPLAY}"
fi

#EOF
